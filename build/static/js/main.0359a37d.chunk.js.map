{"version":3,"sources":["network.js","phonerecords.js","App.js","index.js"],"names":["baseurl","network","axios","get","then","response","data","new_person","post","id","delete","concat","person","put","updateList","setShown","setPersons","networkService","Numbers","_ref","persons","setErrorMessage","map","react_default","a","createElement","key","name","number","onClick","window","confirm","catch","handleClick","PersonForm","props","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","onSubmit","event","preventDefault","found","i","length","onChange","target","value","type","Notification","message","className","App","shown","_useState5","_useState6","errorMessage","useEffect","filter","toLowerCase","includes","phonerecords_PersonForm","App_Notification","phonerecords_Numbers","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.0359a37d.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseurl = 'http://localhost:3001/persons'\n\nconst post = (new_person) => {\n  const request = axios.post(baseurl, new_person)\n  return request.then(response => response.data)\n}\n\nconst getAll = () => {\n  const request = axios.get(baseurl)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const response = axios.delete(`${baseurl}/${id}`)\n  return response\n}\n\nconst put = (person, id) => {\n  const response = axios.put(`${baseurl}/${id}`, person)\n  return response\n}\n\nexport default {getAll, post, remove, put}","import React, { useState } from \"react\"\nimport networkService from \"./network\"\n\nconst updateList = (setShown, setPersons) => {\n  networkService.getAll().then(response => {\n    setPersons(response)\n    setShown(response)\n  })\n}\n\nexport const Numbers = ({ persons, setShown, setPersons, setErrorMessage}) => {\n  const handleClick = person => {\n    if (window.confirm(`poistetaanko ${person.name}`)) {\n      networkService.remove(person.id).then(() => {\n        updateList(setShown, setPersons)\n      }).catch(response => setErrorMessage(`error removing ${person.name}, already removed`))\n    }\n  }\n\n  let rows = persons.map(person => {\n    return (\n      <p key={person.name}>\n        {person.name} {person.number}{\" \"}\n        <button onClick={() => handleClick(person)}>poista</button>\n      </p>\n    )\n  })\n  return rows\n}\n\nexport const PersonForm = props => {\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n\n  const submit = event => {\n    event.preventDefault()\n\n    let found = false\n    let id = -1\n    for (let i = 0; i < props.persons.length; i++) {\n      if (props.persons[i].name === newName) {\n        found = true\n        id = props.persons[i].id\n        break\n      }\n    }\n\n    let new_person = { name: newName, number: newNumber }\n    if (found) {\n      if (window.confirm(`${newName} on jo luettelussa, haluutko korvata`)) {\n        networkService\n          .put(new_person, id)\n          .then(() => updateList(props.setShown, props.setPersons))\n          .catch('error changing the number')\n      }\n    } else {\n      networkService\n        .post(new_person)\n        .then(response => updateList(props.setShown, props.setPersons))\n        .catch(response => props.setErrorMessage('error adding new person to list'))\n    }\n  }\n\n  return (\n    <form onSubmit={submit}>\n      <div>\n        nimi: <input onChange={event => setNewName(event.target.value)} />\n      </div>\n      <div>\n        numero: <input onChange={event => setNewNumber(event.target.value)} />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\n\n","import React, { useState, useEffect } from \"react\"\nimport network from \"./network\"\nimport { Numbers, PersonForm } from \"./phonerecords\"\nimport \"./app.css\"\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return <div className=\"error\">{message}</div>\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [shown, setShown] = useState(persons)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    network.getAll().then(response => {\n      setPersons(response)\n      setShown(response)\n    })\n  }, [])\n\n  const filter = name => {\n    setShown(persons.filter(person => person.name.toLowerCase().includes(name)))\n  }\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      rajaa: <input onChange={event => filter(event.target.value)} />\n      <h3>lisäää uusi</h3>\n      <PersonForm\n        persons={persons}\n        setPersons={setPersons}\n        setShown={setShown}\n        setErrorMessage = {setErrorMessage}\n      />\n      <Notification message={errorMessage} />\n      <h2>Numerot</h2>\n      <div>\n        <Numbers \n        persons={shown} \n        setShown={setShown} \n        setPersons={setPersons} \n        setErrorMessage = {setErrorMessage}\n        />\n\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from './App.js'\n\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}