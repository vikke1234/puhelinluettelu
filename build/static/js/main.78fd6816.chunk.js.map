{"version":3,"sources":["network.js","phonerecords.js","App.js","index.js"],"names":["baseurl","network","axios","get","then","response","data","new_person","post","id","delete","concat","person","put","updateList","setShown","setPersons","networkService","Numbers","_ref","persons","setErrorMessage","map","react_default","a","createElement","key","name","number","onClick","window","confirm","catch","handleClick","PersonForm","props","_useState","useState","_useState2","Object","slicedToArray","newName","setNewName","_useState3","_useState4","newNumber","setNewNumber","onSubmit","event","preventDefault","find","length","onChange","target","value","type","Notification","message","className","App","shown","_useState5","_useState6","errorMessage","useEffect","tmp","console","log","filter","toLowerCase","includes","phonerecords_PersonForm","App_Notification","phonerecords_Numbers","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.78fd6816.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseurl = '/api/persons'\n\nconst post = (new_person) => {\n  const request = axios.post(baseurl, new_person)\n  return request.then(response => response.data)\n}\n\nconst getAll = () => {\n  const request = axios.get(baseurl)\n  return request.then(response => response.data)\n}\n\nconst remove = (id) => {\n  const response = axios.delete(`${baseurl}/${id}`)\n  return response\n}\n\nconst put = (person, id) => {\n  const response = axios.put(`${baseurl}/${id}`, person)\n  return response\n}\n\nexport default {getAll, post, remove, put}\n","import React, { useState } from \"react\"\nimport networkService from \"./network\"\n\nconst updateList = (setShown, setPersons) => {\n  networkService.getAll().then(response => {\n    setPersons(response)\n    setShown(response)\n  })\n}\n\nexport const Numbers = ({ persons, setShown, setPersons, setErrorMessage}) => {\n  \n  const handleClick = person => {\n    if (window.confirm(`poistetaanko ${person.name}`)) {\n      networkService.remove(person.id).then((response) => {\n        updateList(setShown, setPersons)\n      }).catch(response => setErrorMessage(`error removing ${person.name}, already removed`))\n    }\n  }\n\n  let rows = persons.map(person => {\n    return (\n      <p key={person.id}>\n        {person.name} {person.number}{\" \"}\n        <button onClick={() => handleClick(person)}>poista</button>\n      </p>\n    )\n  })\n  return rows\n}\n\nexport const PersonForm = props => {\n  const [newName, setNewName] = useState(\"\")\n  const [newNumber, setNewNumber] = useState(\"\")\n\n  const submit = event => {\n    event.preventDefault()\n\n    const person = props.persons.find(person => person.name === newName)\n\n    let new_person = { name: newName, number: newNumber }\n    if (person === null) {\n      if (window.confirm(`${newName} on jo luettelussa, haluutko korvata`)) {\n        networkService\n          .put(new_person, person.id)\n          .then(() => updateList(props.setShown, props.setPersons))\n          .catch('error changing the number')\n        \n      }\n    } else {\n      networkService\n        .post(new_person)\n        .then(response => updateList(props.setShown, props.setPersons))\n        .catch(response => {\n          if (new_person.name.length < 3) {\n            props.setErrorMessage(`nimi ${new_person.name} pitää olla vähintään 3 pitkä`)\n          } else if(new_person.number.length < 8) {\n            props.setErrorMessage('puh. numero pitää olla vähintään 8 pitkä')\n          } else {\n            props.setErrorMessage('error adding new person to list')\n          }\n        })\n    }\n  }\n\n  return (\n    <form onSubmit={submit}>\n      <div>\n        nimi: <input onChange={event => setNewName(event.target.value)} />\n      </div>\n      <div>\n        numero: <input onChange={event => setNewNumber(event.target.value)} />\n      </div>\n      <div>\n        <button type=\"submit\">lisää</button>\n      </div>\n    </form>\n  )\n}\n\n\n","import React, { useState, useEffect } from \"react\"\nimport network from \"./network\"\nimport { Numbers, PersonForm } from \"./phonerecords\"\nimport \"./app.css\"\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return <div className=\"error\">{message}</div>\n}\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [shown, setShown] = useState(persons)\n  const [errorMessage, setErrorMessage] = useState(null)\n\n  useEffect(() => {\n    network.getAll().then(response => {\n      let tmp = response\n      setPersons(tmp)\n      setShown(tmp)\n      console.log(tmp)\n    })\n  }, [])\n  const filter = name => {\n    setShown(persons.filter(person => person.name.toLowerCase().includes(name)))\n  }\n  return (\n    <div>\n      <h2>Puhelinluettelo</h2>\n      rajaa: <input onChange={event => filter(event.target.value)} />\n      <h3>lisäää uusi</h3>\n        <PersonForm\n          persons={persons}\n          setPersons={setPersons}\n          setShown={setShown}\n          setErrorMessage = {setErrorMessage}\n        />\n      <Notification message={errorMessage} />\n      <h2>Numerot</h2>\n      <div>\n        <Numbers \n          persons={shown} \n          setShown={setShown} \n          setPersons={setPersons} \n          setErrorMessage = {setErrorMessage}\n        />\n      </div>\n    </div>\n  )\n}\n\nexport default App\n","import React from \"react\"\nimport ReactDOM from \"react-dom\"\nimport App from './App.js'\n\nReactDOM.render(<App />, document.getElementById(\"root\"))"],"sourceRoot":""}