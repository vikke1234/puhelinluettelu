(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},37:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(11),u=t.n(o),c=t(2),s=t(3),i=t.n(s),l="http://localhost:3001/persons",m=function(){return i.a.get(l).then(function(e){return e.data})},f=function(e){return i.a.post(l,e).then(function(e){return e.data})},h=function(e){return i.a.delete("".concat(l,"/").concat(e))},p=function(e,n){return i.a.put("".concat(l,"/").concat(n),e)},E=function(e,n){m().then(function(t){n(t),e(t)})},d=function(e){var n=e.persons,t=e.setShown,r=e.setPersons,o=e.setErrorMessage;return n.map(function(e){return a.a.createElement("p",{key:e.name},e.name," ",e.number," ",a.a.createElement("button",{onClick:function(){return function(e){window.confirm("poistetaanko ".concat(e.name))&&h(e.id).then(function(){E(t,r)}).catch(function(n){return o("error removing ".concat(e.name,", already removed"))})}(e)}},"poista"))})},v=function(e){var n=Object(r.useState)(""),t=Object(c.a)(n,2),o=t[0],u=t[1],s=Object(r.useState)(""),i=Object(c.a)(s,2),l=i[0],m=i[1];return a.a.createElement("form",{onSubmit:function(n){n.preventDefault();for(var t=!1,r=-1,a=0;a<e.persons.length;a++)if(e.persons[a].name===o){t=!0,r=e.persons[a].id;break}var u={name:o,number:l};t?window.confirm("".concat(o," on jo luettelussa, haluutko korvata"))&&p(u,r).then(function(){return E(e.setShown,e.setPersons)}).catch("error changing the number"):f(u).then(function(n){return E(e.setShown,e.setPersons)}).catch(function(n){return e.setErrorMessage("error adding new person to list")})}},a.a.createElement("div",null,"nimi: ",a.a.createElement("input",{onChange:function(e){return u(e.target.value)}})),a.a.createElement("div",null,"numero: ",a.a.createElement("input",{onChange:function(e){return m(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},b=(t(37),function(e){var n=e.message;return null===n?null:a.a.createElement("div",{className:"error"},n)}),g=function(){var e=Object(r.useState)([]),n=Object(c.a)(e,2),t=n[0],o=n[1],u=Object(r.useState)(t),s=Object(c.a)(u,2),i=s[0],l=s[1],f=Object(r.useState)(null),h=Object(c.a)(f,2),p=h[0],E=h[1];Object(r.useEffect)(function(){m().then(function(e){o(e),l(e)})},[]);return a.a.createElement("div",null,a.a.createElement("h2",null,"Puhelinluettelo"),"rajaa: ",a.a.createElement("input",{onChange:function(e){return n=e.target.value,void l(t.filter(function(e){return e.name.toLowerCase().includes(n)}));var n}}),a.a.createElement("h3",null,"lis\xe4\xe4\xe4 uusi"),a.a.createElement(v,{persons:t,setPersons:o,setShown:l,setErrorMessage:E}),a.a.createElement(b,{message:p}),a.a.createElement("h2",null,"Numerot"),a.a.createElement("div",null,a.a.createElement(d,{persons:i,setShown:l,setPersons:o,setErrorMessage:E})))};u.a.render(a.a.createElement(g,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.0359a37d.chunk.js.map