(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{12:function(e,n,t){e.exports=t(39)},37:function(e,n,t){},39:function(e,n,t){"use strict";t.r(n);var r=t(0),a=t.n(r),o=t(11),c=t.n(o),u=t(2),s=t(3),l=t.n(s),i=function(){return l.a.get("/persons").then(function(e){return e.data})},m=function(e){return l.a.post("/persons",e).then(function(e){return e.data})},f=function(e){return l.a.delete("".concat("/persons","/").concat(e))},p=function(e,n){return l.a.put("".concat("/persons","/").concat(n),e)},h=function(e,n){i().then(function(t){n(t),e(t)})},d=function(e){var n=e.persons,t=e.setShown,r=e.setPersons,o=e.setErrorMessage;return console.log("Numbers: ",n[0]),n.map(function(e){return console.log("".concat(e.name," ").concat(e.number," ").concat(e.id)),a.a.createElement("p",{key:e.id},e.name," ",e.number," ",a.a.createElement("button",{onClick:function(){return function(e){window.confirm("poistetaanko ".concat(e.name))&&f(e.id).then(function(e){h(t,r)}).catch(function(n){return o("error removing ".concat(e.name,", already removed"))})}(e)}},"poista"))})},E=function(e){var n=Object(r.useState)(""),t=Object(u.a)(n,2),o=t[0],c=t[1],s=Object(r.useState)(""),l=Object(u.a)(s,2),i=l[0],f=l[1];return a.a.createElement("form",{onSubmit:function(n){n.preventDefault();for(var t=!1,r=-1,a=0;a<e.persons.length;a++)if(e.persons[a].name===o){t=!0,r=e.persons[a].id;break}var u={name:o,number:i};t?window.confirm("".concat(o," on jo luettelussa, haluutko korvata"))&&(p(u,r).then(function(){return h(e.setShown,e.setPersons)}).catch("error changing the number"),c(""),f("")):m(u).then(function(n){return h(e.setShown,e.setPersons)}).catch(function(n){return e.setErrorMessage("error adding new person to list")})}},a.a.createElement("div",null,"nimi: ",a.a.createElement("input",{onChange:function(e){return c(e.target.value)}})),a.a.createElement("div",null,"numero: ",a.a.createElement("input",{onChange:function(e){return f(e.target.value)}})),a.a.createElement("div",null,a.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))},b=(t(37),function(e){var n=e.message;return null===n?null:a.a.createElement("div",{className:"error"},n)}),v=function(){var e=Object(r.useState)([]),n=Object(u.a)(e,2),t=n[0],o=n[1],c=Object(r.useState)(t),s=Object(u.a)(c,2),l=s[0],m=s[1],f=Object(r.useState)(null),p=Object(u.a)(f,2),h=p[0],v=p[1];Object(r.useEffect)(function(){i().then(function(e){var n=e;o(n),m(n),console.log(n)})},[]);return a.a.createElement("div",null,a.a.createElement("h2",null,"Puhelinluettelo"),"rajaa: ",a.a.createElement("input",{onChange:function(e){return n=e.target.value,void m(t.filter(function(e){return e.name.toLowerCase().includes(n)}));var n}}),a.a.createElement("h3",null,"lis\xe4\xe4\xe4 uusi"),a.a.createElement(E,{persons:t,setPersons:o,setShown:m,setErrorMessage:v}),a.a.createElement(b,{message:h}),a.a.createElement("h2",null,"Numerot"),a.a.createElement("div",null,a.a.createElement(d,{persons:l,setShown:m,setPersons:o,setErrorMessage:v})))};c.a.render(a.a.createElement(v,null),document.getElementById("root"))}},[[12,2,1]]]);
//# sourceMappingURL=main.9e205d2b.chunk.js.map